"use strict";(self.webpackChunksplitexpenses=self.webpackChunksplitexpenses||[]).push([[638],{638:(_,p,r)=>{r.r(p),r.d(p,{ForecastModule:()=>x});var l=r(4755),m=r(506),t=r(2223),h=r(6136),d=r(6938);function u(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const c=t.CHM(e).index,i=t.oxw(2);return t.KtG(i.changeDate(c))}),t._uU(1),t._UZ(2,"br")(3,"img",9)(4,"br"),t._uU(5),t.qZA()}if(2&n){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",e.title," "),t.xp6(2),t.MGl("src","http://openweathermap.org/img/w/",e.icon,".png",t.LSH),t.s9C("alt",o.weatherInfo.name),t.xp6(2),t.AsE(" ",e.max,"\xb0 ",e.min,"\xb0 ")}}function g(n,a){if(1&n&&(t.TgZ(0,"main",1)(1,"h2",2),t.SDv(2,3),t.qZA(),t.TgZ(3,"div",4)(4,"small"),t._uU(5),t.qZA()(),t._UZ(6,"app-summarygraph",5),t.TgZ(7,"section",6),t.YNc(8,u,6,5,"div",7),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(e.datagraph.title),t.xp6(1),t.Q6J("bytype","weather")("data",e.datagraph),t.xp6(2),t.Q6J("ngForOf",e.mymap)}}const f=[{path:"",component:(()=>{class n{constructor(e){this.weatherService=e,this.mymap=[],this.datagraph=[],this.weatherSettings=this.weatherService.getWeahterSettings()}ngOnInit(){this.getForecast()}getForecast(){this.weatherService.getForecastbyCity(this.weatherSettings.city).subscribe(e=>{console.log(e),this.weatherInfo=e,this.filteringHours()})}resetObj(){return{title:"",icon:"",data:[],min:"",max:"",description:[],icons:[],wind:[],humidity:[],labels:[]}}filteringHours(){let e=[],o=this.resetObj(),s=this.weatherInfo.list,c=s[0].dt_txt.split(" ")[0];for(let i=0;i<s.length;i++){let C=s[i].dt_txt.split(" ")[0];o.labels.push(s[i].dt_txt.split(" ")[1].slice(0,-3)),o.title=new Date(C).toLocaleDateString("ES",{weekday:"short",day:"numeric"}),o.humidity.push(s[i].main.humidity),o.wind.push(s[i].wind.speed),o.description.push(s[i].weather[0].description),o.icons.push(s[i].weather[0].icon),o.data.push(s[i].main.temp),c!==s[i].dt_txt.split(" ")[0]&&(o.min=Math.round(Math.min(...o.data)),o.max=Math.round(Math.max(...o.data)),o.icon=this.mode(o.icons),e.push(o),o=this.resetObj(),c=s[i].dt_txt.split(" ")[0])}console.log(e),this.mymap=e,this.datagraph=e[0]}changeDate(e){this.datagraph=this.mymap[e]}mode(e){return e.sort((o,s)=>e.filter(c=>c===o).length-e.filter(c=>c===s).length).pop()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forecast"]],decls:1,vars:1,consts:function(){let a;return a="Previsi\xF3n 5 dias",[["class","container py-2 mb-8",4,"ngIf"],[1,"container","py-2","mb-8"],[1,"my-4","text-center"],a,[1,"text-center","title"],[3,"bytype","data"],[1,"forecast","g-2","mb-4"],["class","",3,"click",4,"ngFor","ngForOf"],[1,"",3,"click"],[3,"src","alt"]]},template:function(e,o){1&e&&t.YNc(0,g,9,4,"main",0),2&e&&t.Q6J("ngIf",o.weatherInfo)},dependencies:[l.sg,l.O5,d.H],styles:[".forecast[_ngcontent-%COMP%]{justify-content:space-between;cursor:pointer;display:flex}.title[_ngcontent-%COMP%]{margin-bottom:-13px;font-weight:700}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(f),m.Bz]}),n})();var F=r(4466);let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[h.F],imports:[l.ez,y,F.m]}),n})()}}]);