"use strict";(self.webpackChunksplitexpenses=self.webpackChunksplitexpenses||[]).push([[851],{7851:(F,h,a)=>{a.r(h),a.d(h,{ForecastModule:()=>_});var c=a(4361),p=a(9404),l=a(2748),t=a(1498),d=a(648);function u(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const r=t.CHM(e).index,o=t.oxw(2);return t.KtG(o.changeDate(r))}),t._uU(1),t._UZ(2,"br")(3,"img",9)(4,"br"),t._uU(5),t.qZA()}if(2&i){const e=m.$implicit,s=t.oxw(2);t.xp6(),t.hij(" ",e.title," "),t.xp6(2),t.MGl("src","http://openweathermap.org/img/w/",e.icon,".png",t.LSH),t.s9C("alt",s.weatherInfo.name),t.xp6(2),t.AsE(" ",e.max,"\xb0 ",e.min,"\xb0 ")}}function g(i,m){if(1&i&&(t.TgZ(0,"main",1)(1,"h2",2),t.SDv(2,3),t.qZA(),t.TgZ(3,"div",4)(4,"small"),t._uU(5),t.qZA()(),t._UZ(6,"app-summarygraph",5),t.TgZ(7,"section",6),t.YNc(8,u,6,5,"div",7),t.qZA()()),2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.datagraph.title),t.xp6(),t.Q6J("bytype","weather")("data",e.datagraph),t.xp6(2),t.Q6J("ngForOf",e.mymap)}}const f=[{path:"",component:(()=>{class i{constructor(e){this.weatherService=e,this.mymap=[],this.datagraph=[],this.weatherSettings=this.weatherService.getWeahterSettings()}ngOnInit(){this.getForecast()}getForecast(){this.weatherService.getForecastbyCity(this.weatherSettings.city).subscribe(e=>{console.log(e),this.weatherInfo=e,this.filteringHours()})}resetObj(){return{title:"",icon:"",data:[],min:"",max:"",description:[],icons:[],wind:[],humidity:[],labels:[]}}filteringHours(){const e=[];let s=this.resetObj();const n=this.weatherInfo.list;let r=n[0].dt_txt.split(" ")[0];for(let o=0;o<n.length;o++){const C=n[o].dt_txt.split(" ")[0];s.labels.push(n[o].dt_txt.split(" ")[1].slice(0,-3)),s.title=new Date(C).toLocaleDateString("ES",{weekday:"short",day:"numeric"}),s.humidity.push(n[o].main.humidity),s.wind.push(n[o].wind.speed),s.description.push(n[o].weather[0].description),s.icons.push(n[o].weather[0].icon),s.data.push(n[o].main.temp),r!==n[o].dt_txt.split(" ")[0]&&(s.min=Math.round(Math.min(...s.data)),s.max=Math.round(Math.max(...s.data)),s.icon=this.mode(s.icons),e.push(s),s=this.resetObj(),r=n[o].dt_txt.split(" ")[0])}console.log(e),this.mymap=e,this.datagraph=e[0]}changeDate(e){this.datagraph=this.mymap[e]}mode(e){return e.sort((s,n)=>e.filter(r=>r===s).length-e.filter(r=>r===n).length).pop()}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(l.F))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-forecast"]],decls:1,vars:1,consts:()=>{let e;return e="Forecast 5 days",[["class","container py-2 mb-8",4,"ngIf"],[1,"container","py-2","mb-8"],[1,"my-4","text-center"],e,[1,"text-center","title"],[3,"bytype","data"],[1,"forecast","g-2","mb-4"],["class","",3,"click",4,"ngFor","ngForOf"],[1,"",3,"click"],[3,"src","alt"]]},template:function(s,n){1&s&&t.YNc(0,g,9,4,"main",0),2&s&&t.Q6J("ngIf",n.weatherInfo)},dependencies:[c.sg,c.O5,d.H],styles:[".forecast[_ngcontent-%COMP%]{justify-content:space-between;cursor:pointer;display:flex}.title[_ngcontent-%COMP%]{margin-bottom:-13px;font-weight:700}"]})}return i})()}];let y=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(f),p.Bz]})}return i})();var x=a(7978);let _=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({providers:[l.F],imports:[c.ez,y,x.m]})}return i})()}}]);