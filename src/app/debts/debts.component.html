<h2 class="my-4 text-center" i18n>Como saldar las Deudas</h2>
<section class="row g-4">
    <div class="col-sm-12 col-lg-6 col-xl-4" *ngFor="let user of usersHTML | async">
        <div class="persoanlDebts p-md-3 p-2" routerLink='/debts/{{user.id}}'>
            <div class="d-flex flex-row justify-content-between title">
                <div>{{user.name}} <span class="text" i18n>debe un total de:</span></div>
                <div>
                    {{debts.get(user.id)?.totalIowe}} {{currency.currencySymbol}}
                    <div *ngIf="currency.active" class="text-end mainExchange">
                        {{ calcExchange(debts.get(user.id)?.totalIowe) }}
                         {{currency.currencyExchangeSymbol}}
                    </div>

                </div>
            </div>
            <ng-container *ngFor="let person of usersHTML | async">
                <div class="d-flex flex-row justify-content-between align-items-center text-secondary py-1 subtitle"
                    *ngIf="user.id !== person.id">
                    <div>{{person.name}}</div>
                    <div>
                        <ng-container *ngIf="debts.get(user.id)?.debts?.get(person.id)?.individualtotalIveBeenPaid !=
                                                    debts.get(user.id)?.debts?.get(person.id)?.newDebt; else elseBlock">

                            {{debts.get(user.id)?.debts?.get(person.id)?.newDebt }}
                            {{currency.currencySymbol}}
                            <small *ngIf="currency.active" class="text-end">
                                {{ calcExchange(debts.get(user.id)?.debts?.get(person.id)?.newDebt) }}
                                 {{currency.currencyExchangeSymbol}}
                            </small>

                        </ng-container>

                        <ng-template #elseBlock>
                            {{debts.get(user.id)?.debts?.get(person.id)?.individualtotalIveBeenPaid }}
                            {{currency.currencySymbol}}
                            <small *ngIf="currency.active" class="text-end">
                                {{ calcExchange(debts.get(user.id)?.debts?.get(person.id)?.individualtotalIveBeenPaid) }}
                                 {{currency.currencyExchangeSymbol}}
                            </small>
                         </ng-template>
                    </div>
                </div>
            </ng-container>
        </div>


    </div>



</section>
